# 常用方法或对象

## 内置函数

dart

```dart
```

go

```go
```

js

```js
```

python

```sh
abs()	delattr()	hash()	memoryview()	set()
all()	dict()	help()	min()	setattr()
any()	dir()	hex()	next()	slice()
ascii()	divmod()	id()	object()	sorted()
bin()	enumerate()	input()	oct()	staticmethod()
bool()	eval()	int()	open()	str()
breakpoint()	exec()	isinstance()	ord()	sum()
bytearray()	filter()	issubclass()	pow()	super()
bytes()	float()	iter()	print()	tuple()
callable()	format()	len()	property()	type()
chr()	frozenset()	list()	range()	vars()
classmethod()	getattr()	locals()	repr()	zip()
compile()	globals()	map()	reversed()	__import__()
complex()	hasattr()	max()	round()
```

```python
class Date(object):

    def __init__(self, day=0, month=0, year=0):
        self.day = day
        self.month = month
        self.year = year

    @classmethod
    def from_string(cls, date_as_string):
        day, month, year = map(int, date_as_string.split('-'))
        date1 = cls(day, month, year)
        return date1

    @staticmethod
    def is_date_valid(date_as_string):
        day, month, year = map(int, date_as_string.split('-'))
        return day <= 31 and month <= 12 and year <= 3999

date2 = Date.from_string('11-09-2012')
is_date = Date.is_date_valid('11-09-2012')
```

## Encoding and decoding fully qualified URIs（编码解码URI）

dart

要编码和解码除了 URI 中特殊意义（例如 /, :, &, #）的字符，
则可以使用 encodeFull() 和 decodeFull() 函数。
这两个函数可以用来编码和解码整个 URI，并且保留 URI 特殊意义的字符不变。

```dart
var uri = 'http://example.org/api?foo=some message';

var encoded = Uri.encodeFull(uri);
assert(encoded == 'http://example.org/api?foo=some%20message');
// 注意上面 some 和 message 之间的空格被编码了。

var decoded = Uri.decodeFull(encoded);
assert(uri == decoded);
```

go

```go
```

js

```js
```

python

```python
```

## Encoding and decoding URI components（编码解码URI组件）

dart

使用 encodeComponent() 和 decodeComponent() 可以编码 和解码 URI 中的所有字符，
特殊意义的字符（/, &, 和 : 等） 也会编码，

```dart
var uri = 'http://example.org/api?foo=some message';

var encoded = Uri.encodeComponent(uri);
assert(encoded == 'http%3A%2F%2Fexample.org%2Fapi%3Ffoo%3Dsome%20message');
// 注意上面特殊字符也被编码了，比如 / 编码为 %2F。

var decoded = Uri.decodeComponent(encoded);
assert(uri == decoded);
```

go

```go
```

js

```js
```

python

```python
```

## Parsing URIs

dart

如果有个 Uri 对象或者 URI 字符串，使用 Uri 的属性 可以获取每个部分，比如 path。
使用 parse() 静态 函数可以从字符串中解析一个 Uri 对象：

```dart
var uri = Uri.parse('http://example.org:8080/foo/bar#frag');

assert(uri.scheme   == 'http');
assert(uri.host     == 'example.org');
assert(uri.path     == '/foo/bar');
assert(uri.fragment == 'frag');
assert(uri.origin   == 'http://example.org:8080');
```

go

```go
```

js

```js
```

python

```python
```

## Building URIs

dart

使用 Uri() 构造函数可以从 URI 的 各个部分来构造一个 Uri 对象：

```dart
var uri = new Uri(scheme: 'http', host: 'example.org',
                  path: '/foo/bar', fragment: 'frag');
assert(uri.toString() ==
    'http://example.org/foo/bar#frag');
```

go

```go
```

js

```js
```

python

```python
```

## Dates and times 日期和时间

dart

DateTime 对象代表某个时刻。时区是 UTC 或者 本地时区。
一些构造函数可以创建 DateTime 对象：

使用 Duration 来在 DateTime 对象上前后移动数天可能会有问题，
比如像夏令时等时间问题。如果要按照天数来位移时间，则 需要使用 UTC 日期。

```dart
// Get the current date and time.
var now = new DateTime.now();

// Create a new DateTime with the local time zone.
var y2k = new DateTime(2000);   // January 1, 2000

// Specify the month and day.
y2k = new DateTime(2000, 1, 2); // January 2, 2000

// Specify the date as a UTC time.
y2k = new DateTime.utc(2000);   // 1/1/2000, UTC

// Specify a date and time in ms since the Unix epoch.
y2k = new DateTime.fromMillisecondsSinceEpoch(
    946684800000, isUtc: true);

// Parse an ISO 8601 date.
y2k = DateTime.parse('2000-01-01T00:00:00Z');


// millisecondsSinceEpoch 属性
// 返回自从 “Unix epoch”—January 1, 1970, UTC 以来的毫秒数值：
// 1/1/2000, UTC
y2k = new DateTime.utc(2000);
assert(y2k.millisecondsSinceEpoch == 946684800000);

// 1/1/1970, UTC
var unixEpoch = new DateTime.utc(1970);
assert(unixEpoch.millisecondsSinceEpoch == 0);


// 使用 Duration 类可以计算两个日期之间的间隔， 还可以前后位移日期：
var y2k = new DateTime.utc(2000);

// Add one year.
var y2001 = y2k.add(const Duration(days: 366));
assert(y2001.year == 2001);

// Subtract 30 days.
var december2000 = y2001.subtract(
    const Duration(days: 30));
assert(december2000.year == 2000);
assert(december2000.month == 12);

// Calculate the difference between two dates.
// Returns a Duration object.
var duration = y2001.difference(y2k);
assert(duration.inDays == 366); // y2k was a leap year.
```

go

```go
```

js

```js
```

python

```sh
>>> # dates are easily constructed and formatted
>>> from datetime import date
>>> now = date.today()
>>> now
datetime.date(2003, 12, 2)
>>> now.strftime("%m-%d-%y. %d %b %Y is a %A on the %d day of %B.")
'12-02-03. 02 Dec 2003 is a Tuesday on the 02 day of December.'

>>> # dates support calendar arithmetic
>>> birthday = date(1964, 7, 31)
>>> age = now - birthday
>>> age.days
14368
```

## Comparing objects（比较对象）

dart

实现 Comparable 接口表明该对象可以相互比较，通常用来 排序。

- compareTo() 函数对于 小于的值返回 < 0 ；
- 相同的值返回 0 ；
- 大于的值返回 > 0

```dart
class Line implements Comparable { // 隐式接口
  final length;
  const Line(this.length);
  int compareTo(Line other) => length - other.length;
}

main() {
  var short = const Line(1);
  var long = const Line(100);
  assert(short.compareTo(long) < 0);
}
```

go

```go
```

js

```js
```

python

```python
```

## Implementing map keys

dart

Dart 中的每个对象都有一个整数 hash 码，这样每个对象都 可以当做 map 的 key 来用。
但是，你可以覆写 hashCode getter 来自定义 hash 码的实现，
如果你这样做了，你也需要 同时覆写 == 操作符。
相等的对象（使用 == 比较）的 hash 码应该一样。
Hasm 码并不要求是唯一的， 但是应该具有良好的分布形态。

```dart
class Person {
  final String firstName, lastName;

  Person(this.firstName, this.lastName);

  // Override hashCode using strategy from Effective Java,
  // Chapter 11.
  int get hashCode {
    int result = 17;
    result = 37 * result + firstName.hashCode;
    result = 37 * result + lastName.hashCode;
    return result;
  }

  // You should generally implement operator == if you
  // override hashCode.
  bool operator ==(other) {
    if (other is! Person) return false;
    Person person = other;
    return (person.firstName == firstName &&
        person.lastName == lastName);
  }
}

main() {
  var p1 = new Person('bob', 'smith');
  var p2 = new Person('bob', 'smith');
  var p3 = 'not a person';
  assert(p1.hashCode == p2.hashCode);
  assert(p1 == p2);
  assert(p1 != p3);
}
```

go

```go
```

js

```js
```

python

```python
```

## Iteration 可迭代对象

dart

Iterable 和 Iterator 类支持 for-in 循环。
当你创建一个类的时候，继承或者实现 Iterable
可以 提供一个用于 for-in 循环的 Iterators。
实现 Iterator 来定义实际的遍历操作。

```dart
class Process {
  // Represents a process...
}

class ProcessIterator implements Iterator<Process> {
  Process current;
  bool moveNext() {
    return false;
  }
}

// A mythical class that lets you iterate through all
// processes. Extends a subclass of Iterable.
class Processes extends IterableBase<Process> {
  final Iterator<Process> iterator =
      new ProcessIterator();
}

main() {
  // Iterable objects can be used with for-in.
  for (var process in new Processes()) {
    // Do something with the process.
  }
}
```

go

```go
```

js

```js
```

python

```python
```

## Finding elements

dart

```dart
import 'dart:html';

// Find an element by id (an-id).
Element elem1 = querySelector('#an-id');

// Find an element by class (a-class).
Element elem2 = querySelector('.a-class');

// Find all elements by tag (<div>).
List<Element> elems1 = querySelectorAll('div');

// Find all text inputs.
  List<Element> elems2 =
      querySelectorAll('input[type="text"]');

// Find all elements with the CSS class 'class'
// inside of a <p> that is inside an element with
// the ID 'id'.
List<Element> elems3 = querySelectorAll('#id p.class');
```

go

```go
```

js

```js
```

python

```python
```

## Manipulating elements

dart

```html
<!-- In HTML: -->
<a id="example" href="http://example.com">link text</a>
<p>
  <span class="linux">Words for Linux</span>
  <span class="macos">Words for Mac</span>
  <span class="windows">Words for Windows</span>
</p>
```

```dart
// In Dart:
querySelector('#example').href = 'http://dartlang.org';

final osList = ['macos', 'windows', 'linux'];

// In real code you'd programmatically determine userOs.
var userOs = 'linux';

for (var os in osList) { // For each possible OS...
  bool shouldShow = (os == userOs); // Matches user OS?

  // Find all elements with class=os. For example, if
  // os == 'windows', call querySelectorAll('.windows')
  // to find all elements with the class "windows".
  // Note that '.$os' uses string interpolation.
  for (var elem in querySelectorAll('.$os')) {
    elem.hidden = !shouldShow; // Show or hide.
  }
}

elem.attributes['someAttribute'] = 'someValue';
```

go

```go
```

js

```js
```

python

```python
```

## Creating elements

dart

```dart
var elem = new ParagraphElement();
elem.text = 'Creating is easy!';
var elem2 = new Element.html('<p>Creating <em>is</em> easy!</p>');
document.body.children.add(elem2);
```

go

```go
```

js

```js
```

python

```python
```

## Adding, replacing, and removing nodes

dart

element 也是 node 的一种。
使用 Node 的 nodes 属性可以 获取到当前 node 的所有子元素，
nodes 返回的是 List<Node> ( children 属性只包含 Element 类型的 nodes)。

```dart
// 使用 List 的add() 函数可以把一个 node 添加到所有子元素的 最后：
// Find the parent by ID, and add elem as its last child.
querySelector('#inputs').nodes.add(elem);

// 使用 Node 的 replaceWith() 函数可以替换一个 Node：
// Find a node by ID, and replace it in the DOM.
querySelector('#status').replaceWith(elem);

// 使用 Node 的 remove() 函数来删除 node：
// Find a node by ID, and remove it from the DOM.
querySelector('#expendable').remove();
```

go

```go
```

js

```js
```

python

```python
```

## Manipulating CSS styles

dart

```dart
// 下面的示例中给 element 添加了 warning CSS 类样式。
var element = querySelector('#message');
element.classes.add('warning');

// 通过 id 属性你可以动态给一个 Element 指定 一个 ID 值。
var message = new DivElement();
message.id = 'message2';
message.text = 'Please subscribe to the Dart mailing list.';

// 使用级联调用可以减少 需要编写的代码：
var message = new DivElement()
    ..id = 'message2'
    ..text = 'Please subscribe to the Dart mailing list.';

// 直接使用 style 属性
message.style
    ..fontWeight = 'bold'
    ..fontSize = '3em';
```

go

```go
```

js

```js
```

python

```python
```

## Handling events

dart

一些常见的事件：

- change
- blur
- keyDown
- keyUp
- mouseDown
- mouseUp

```dart
// 处理按钮点击的事件：
// Find a button by ID and add an event handler.
querySelector('#submitInfo').onClick.listen((e) {
  // When the button is clicked, it runs this code.
  submitData();
});

//  通过 e.target 可以获取是哪个 element 触发该事件的：
document.body.onClick.listen((e) {
  var clickedElem = e.target;
  print('You clicked the ${clickedElem.id} element.');
});
```

go

```go
```

js

```js
```

python

```python
```

## Getting data from the server

dart

HttpRequest 的静态函数 getString() 可以很方便的从服务器获取资源。

```dart
import 'dart:html';
import 'dart:async';

// A JSON-formatted file next to this page.
var uri = 'data.json';

main() async {
  // Read a JSON file.
  var data = await HttpRequest.getString(uri);
  processString(data);
}

processString(String jsonText) {
  parseText(jsonText);
}

// 使用 try-catch 来指定异常处理代码：
try {
  data = await HttpRequest.getString(jsonUri);
  processString(data);
} catch (e) {
  handleError(e);
}
// ...
handleError(error) {
  print('Uh oh, there was an error.');
  print(error.toString());
}

// 如果除了返回的文本数据以外你还需要 访问 HttpRequest，你可以使用 request() 静态函数。
// 下面 是一个读取 XML 数据的示例：
import 'dart:html';
import 'dart:async';

// An XML-formatted file next to this page.
var xmlUri = 'data.xml';

main() async {
  // Read an XML file.
  try {
    var data = await HttpRequest.request(xmlUri);
    processRequest(data);
  } catch (e) {
    handleError(e);
  }
}

processRequest(HttpRequest request) {
  var xmlDoc = request.responseXml;
  try {
    var license = xmlDoc.querySelector('license').text;
    print('License: $license');
  } catch (e) {
    print("$xmlUri doesn't have correct XML formatting.");
  }
}

// 下面是使用 HttpRequest full API 的常用流程：
// 1.创建 HttpRequest 对象。
// 2.使用 GET 或者 POST 打开一个 URL。
// 3.添加事件处理器。
// 4.发送请求。
import 'dart:html';
// ...
var request = new HttpRequest()
    ..open('POST', dataUrl)
    ..onLoadEnd.listen((_) => requestComplete(request))
    ..send(encodedData);
```

go

```go
```

js

```js
```

python

```python
```

## Sending data to the server

dart

```dart
import 'dart:html';

String encodeMap(Map data) {
  return data.keys.map((k) {
    return '${Uri.encodeComponent(k)}=' +
           '${Uri.encodeComponent(data[k])}';
  }).join('&');
}

loadEnd(HttpRequest request) {
  if (request.status != 200) {
    print('Uh oh, error: ${request.status}');
  } else {
    print('Data has been posted');
  }
}

main() async {
  var dataUrl = '/registrations/create';
  var data = {'dart': 'fun', 'editor': 'productive'};
  var encodedData = encodeMap(data);

  var httpRequest = new HttpRequest();
  httpRequest.open('POST', dataUrl);
  httpRequest.setRequestHeader(
      'Content-type',
      'application/x-www-form-urlencoded');
  httpRequest.send(encodedData);
  await httpRequest.onLoadEnd.first;
  loadEnd(httpRequest);
}
```

go

```go
```

js

```js
```

python

```python
```

## Sending and receiving real-time data with WebSockets

dart

WebSocket 可以让你的 web 应用和服务器持续的交互数据，不用 一直的轮询。
创建 WebSocket 的服务器会监听 ws:// 开头的 URL， 例如 ws://127.0.0.1:1337/ws。 
通过 WebSocket 发送的数据可以是字符串或者 blob。 通常都是使用 JSON 格式的字符串。

```dart
// 先创建 WebSocket 对象
var ws = new WebSocket('ws://echo.websocket.org');

// 使用 send() 函数向 WebSocket 发送数据：
ws.send('Hello from Dart!');

// 要从 WebSocket 接收数据，需要注册一个事件 监听器：
ws.onMessage.listen((MessageEvent e) {
  print('Received message: ${e.data}');
});

// 处理如下的 WebSocket 事件：open, close, error,
void initWebSocket([int retrySeconds = 2]) {
  var reconnectScheduled = false;

  print("Connecting to websocket");
  ws = new WebSocket('ws://echo.websocket.org');

  void scheduleReconnect() {
    if (!reconnectScheduled) {
      new Timer(
          new Duration(milliseconds: 1000 * retrySeconds),
          () => initWebSocket(retrySeconds * 2));
    }
    reconnectScheduled = true;
  }

  ws.onOpen.listen((e) {
    print('Connected');
    ws.send('Hello from Dart!');
  });

  ws.onClose.listen((e) {
    print('Websocket closed, retrying in ' +
          '$retrySeconds seconds');
    scheduleReconnect();
  });

  ws.onError.listen((e) {
    print("Error connecting to ws");
    scheduleReconnect();
  });

  ws.onMessage.listen((MessageEvent e) {
    print('Received message: ${e.data}');
  });
}
```

go

```go
```

js

```js
```

python

```python
```

## HTTP server

dart

```dart
import 'dart:io';

main() async {
  dartHandler(HttpRequest request) {
    request.response.headers.contentType =
        new ContentType('text', 'plain');
    request.response.write('Dart is optionally typed');
    request.response.close();
  }

  var requests = await HttpServer.bind('127.0.0.1', 8888);
  await for (var request in requests) {
    print('Got request for ${request.uri.path}');
    if (request.uri.path == '/languages/dart') {
      dartHandler(request);
    } else {
      request.response.write('Not found');
      request.response.close();
    }
  }
}
```

go

```go
```

js

```js
```

python

```python
```

## HTTP client

dart

```dart
import 'dart:io';
import 'dart:convert';

main() async {
  var url = Uri.parse(
      'http://127.0.0.1:8888/languages/dart');
  var httpClient = new HttpClient();
  var request = await httpClient.getUrl(url);
  print('have request');
  var response = await request.close();
  print('have response');
  var data = await response.transform(UTF8.decoder).toList();
  var body = data.join('');
  print(body);
  httpClient.close();
}
```

go

```go
```

js

```js
```

python

```python
```

## Reading a file as text 读取整个文本

dart

```dart
import 'dart:io';

main() async {
  var config = new File('config.txt');
  var contents;

  // Put the whole file in a single string.
  contents = await config.readAsString();
  print('The entire file is ${contents.length} characters long.');

  // Put each line of the file into its own string.
  contents = await config.readAsLines();
  print('The entire file is ${contents.length} lines long.');
}

// 异常处理
import 'dart:io';

main() async {
  var config = new File('config.txt');
  try {
    var contents = await config.readAsString();
    print(contents);
  } catch (e) {
    print(e);
  }
}
```

go

```go
```

js

```js
```

python

```python
f = open('workfile', 'w')

# 最好使用 with 关键字。 优点是当子句体结束后文件会正确关闭
with open('workfile') as f:
    read_data = f.read()
```

## Reading a file as binary 把文件数据读取为字节流

dart

```dart
import 'dart:io';

main() async {
  var config = new File('config.txt');

  var contents = await config.readAsBytes();
  print('The entire file is ${contents.length} bytes long');
}
```

go

```go
```

js

```js
```

python

```python
```

## Streaming file contents 一点点的/逐行读取

dart

```dart
import 'dart:io';
import 'dart:convert';
import 'dart:async';

main() async {
  var config = new File('config.txt');
  Stream<List<int>> inputStream = config.openRead();

  var lines = inputStream
      .transform(UTF8.decoder)
      .transform(new LineSplitter());
  try {
    await for (var line in lines) {
      print('Got ${line.length} characters from stream');
    }
    print('file is now closed');
  } catch (e) {
    print(e);
  }
}
```

go

```go
```

js

```js
```

python

```python
# 要从文件中读取行，你可以循环遍历文件对象。这是内存高效，快速的，并简化代码:
for line in f:
    print(line, end='')
```

## Writing file contents 写入内容

dart

```dart
// 默认的写模式为 FileMode.WRITE，新写入的数据会完全覆盖 文件之前的内容。
var logFile = new File('log.txt');
var sink = logFile.openWrite();
sink.write('FILE ACCESSED ${new DateTime.now()}\n');
sink.close();

// 如果想在文件末尾追加内容，则可以使用 mode 可选参数，参数取值 为 FileMode.APPEND：
var sink = logFile.openWrite(mode: FileMode.APPEND);
```

go

```go
```

js

```js
```

python

```python
f.write('This is a test\n')
```

## Listing files in a directory 查找目录中的所有文件和子目录

dart

```dart
import 'dart:io';

main() async {
  var dir = new Directory('/tmp');

  try {
    var dirList = dir.list();
    await for (FileSystemEntity f in dirList) {
      if (f is File) {
        print('Found file ${f.path}');
      } else if (f is Directory) {
        print('Found dir ${f.path}');
      }
    }
  } catch (e) {
    print(e.toString());
  }
}
```

go

```go
```

js

```js
```

python

```python
```

## Decoding and encoding JSON

dart

```dart
// 使用 JSON.decode() 函数把 JSON 字符串解码为 Dart 对象：
import 'dart:convert' show JSON;

main() {
  // NOTE: Be sure to use double quotes ("),
  // not single quotes ('), inside the JSON string.
  // This string is JSON, not Dart.
  var jsonString = '''
  [
    {"score": 40},
    {"score": 80}
  ]
  ''';

  var scores = JSON.decode(jsonString);
  assert(scores is List);

  var firstScore = scores[0];
  assert(firstScore is Map);
  assert(firstScore['score'] == 40);
}

// 使用 JSON.encode() 可以把 Dart 对象 编码为 JSON 字符串：
import 'dart:convert' show JSON;

main() {
  var scores = [
    {'score': 40},
    {'score': 80},
    {'score': 100, 'overtime': true, 'special_guest': null}
  ];

  var jsonText = JSON.encode(scores);
  assert(jsonText == '[{"score":40},{"score":80},'
                     '{"score":100,"overtime":true,'
                     '"special_guest":null}]');
}
```

go

```go
```

js

```js
```

python

```python
import json
json.dumps([1, 'simple', 'list'])
# dumps() 函数的另一个变体叫做 dump() ，它只是将对象序列化为 text file 
json.dump(x, f)
# 要再次解码对象，如果 f 是一个打开的以供阅读的 text file 对象:
x = json.load(f)
```

```sh
# 对基本的 Python 对象层次结构进行编码：
>>> import json
>>> json.dumps(['foo', {'bar': ('baz', None, 1.0, 2)}])
'["foo", {"bar": ["baz", null, 1.0, 2]}]'
>>> print(json.dumps("\"foo\bar"))
"\"foo\bar"
>>> print(json.dumps('\u1234'))
"\u1234"
>>> print(json.dumps('\\'))
"\\"
>>> print(json.dumps({"c": 0, "b": 0, "a": 0}, sort_keys=True))
{"a": 0, "b": 0, "c": 0}
>>> from io import StringIO
>>> io = StringIO()
>>> json.dump(['streaming API'], io)
>>> io.getvalue()
'["streaming API"]'

# 紧凑编码:
>>> import json
>>> json.dumps([1, 2, 3, {'4': 5, '6': 7}], separators=(',', ':'))
'[1,2,3,{"4":5,"6":7}]'

# 美化输出:
>>> import json
>>> print(json.dumps({'4': 5, '6': 7}, sort_keys=True, indent=4))
{
    "4": 5,
    "6": 7
}

# JSON解码:
>>> import json
>>> json.loads('["foo", {"bar":["baz", null, 1.0, 2]}]')
['foo', {'bar': ['baz', None, 1.0, 2]}]
>>> json.loads('"\\"foo\\bar"')
'"foo\x08ar'
>>> from io import StringIO
>>> io = StringIO('["streaming API"]')
>>> json.load(io)
['streaming API']
```

## Decoding and encoding UTF-8 characters

dart

```dart
// 使用 UTF8.decode() 来解码 UTF8-encoded 字节流为 Dart 字符串：
import 'dart:convert' show UTF8;

main() {
  var string = UTF8.decode([
    0xc3, 0x8e, 0xc3, 0xb1, 0xc5, 0xa3, 0xc3, 0xa9,
    0x72, 0xc3, 0xb1, 0xc3, 0xa5, 0xc5, 0xa3, 0xc3,
    0xae, 0xc3, 0xb6, 0xc3, 0xb1, 0xc3, 0xa5, 0xc4,
    0xbc, 0xc3, 0xae, 0xc5, 0xbe, 0xc3, 0xa5, 0xc5,
    0xa3, 0xc3, 0xae, 0xe1, 0xbb, 0x9d, 0xc3, 0xb1
  ]);
  print(string); // 'Îñţérñåţîöñåļîžåţîờñ'
}

// 如果是 stream 字节流则可以在 Stream 的 transform() 函数上指定 UTF8.decoder ：
var lines = inputStream
    .transform(UTF8.decoder)
    .transform(new LineSplitter());
try {
  await for (var line in lines) {
    print('Got ${line.length} characters from stream');
  }
}

// 使用 UTF8.encode() 把字符串编码为 UTF8 字节 流：
import 'dart:convert' show UTF8;

main() {
  List<int> expected = [
    0xc3, 0x8e, 0xc3, 0xb1, 0xc5, 0xa3, 0xc3, 0xa9,
    0x72, 0xc3, 0xb1, 0xc3, 0xa5, 0xc5, 0xa3, 0xc3,
    0xae, 0xc3, 0xb6, 0xc3, 0xb1, 0xc3, 0xa5, 0xc4,
    0xbc, 0xc3, 0xae, 0xc5, 0xbe, 0xc3, 0xa5, 0xc5,
    0xa3, 0xc3, 0xae, 0xe1, 0xbb, 0x9d, 0xc3, 0xb1
  ];

  List<int> encoded = UTF8.encode('Îñţérñåţîöñåļîžåţîờñ');

  assert(() {
    if (encoded.length != expected.length) return false;
    for (int i = 0; i < encoded.length; i++) {
      if (encoded[i] != expected[i]) return false;
    }
    return true;
  });
}
```

go

```go
```

js

```js
```

python

```python
```

## 操作系统接口

dart

```dart
```

go

```go
```

js

```js
```

python

```sh
>>> import os
>>> os.getcwd()      # Return the current working directory
'C:\\Python37'
>>> os.chdir('/server/accesslogs')   # Change current working directory
>>> os.system('mkdir today')   # Run the command mkdir in the system shell
0

>>> import os
>>> dir(os)
<returns a list of all module functions>
>>> help(os)
<returns an extensive manual page created from the module's docstrings>

>>> import shutil
>>> shutil.copyfile('data.db', 'archive.db')
'archive.db'
>>> shutil.move('/build/executables', 'installdir')
'installdir'

# 以下输出来自在命令行运行 python demo.py one two three
>>> import sys
>>> print(sys.argv)
['demo.py', 'one', 'two', 'three']
```

## 模板

dart

```dart
```

go

```go
```

js

```js
```

python

```python
```

## 日志

dart

```dart
```

go

```go
```

js

```js
```

python

```python
import logging
logging.debug('Debugging information')
logging.info('Informational message')
logging.warning('Warning:config file %s not found', 'server.conf')
logging.error('Error occurred')
logging.critical('Critical error -- shutting down')
```
